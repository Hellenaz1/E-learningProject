<Window x:Class="PRN212_Project.CourseManagementWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PRN212_Project"
        mc:Ignorable="d"
        Title="Quản lý khóa học"
        Height="600" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#F3F4F6">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- 🔹 Sidebar -->
        <Border Grid.Column="0" Background="#4F46E5">
            <StackPanel Margin="20">
                <TextBlock Text="LMS Admin" Foreground="White"
                           FontSize="22" FontWeight="Bold" Margin="0,0,0,10"/>
                <TextBlock Text="Quản lý hệ thống"
                           Foreground="#D1D5DB" FontSize="12" Margin="0,0,0,20"/>

                <Button Content="👤 Quản lý User"
                        Height="40"
                        Background="Transparent"
                        Foreground="White"
                        BorderThickness="0"
                        HorizontalAlignment="Left"
                       Click="BtnUsers_Click"/>

                <Button Content="📚 Quản lý Khóa học"
                        Height="40"
                        Background="#2563EB"
                        Foreground="White"
                        BorderThickness="0"
                        HorizontalAlignment="Left"/>
            </StackPanel>
        </Border>

        <!-- 🔹 Nội dung chính -->
        <Grid Grid.Column="1" Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Tiêu đề -->
            <TextBlock Text="Quản lý Khóa học"
                       FontSize="20" FontWeight="Bold" Margin="5,0,0,10"/>

            <!-- Thanh tìm kiếm và nút thêm -->
            <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,5,0,10">
                <TextBox x:Name="txtSearch" Width="300" Height="32" Margin="0,0,10,0"
                         Padding="8" VerticalContentAlignment="Center"
                         BorderBrush="#D1D5DB" BorderThickness="1"
                         FontSize="13"/>
                <Button Content="🔍 Tìm"
            Width="80"
            Background="#2563EB"
            Foreground="White"
            BorderThickness="0"
            Cursor="Hand"
            Click="BtnSearch_Click"/>
                <Button Content="➕ Thêm khóa học"
                        Background="#2563EB" Foreground="White"
                        Padding="12,6" BorderThickness="0" Cursor="Hand"
                        Click="AddCourse_Click" />
            </StackPanel>

            <!-- Bảng danh sách khóa học -->
            <Border Grid.Row="2" Background="White" CornerRadius="10" Padding="10">
                <DataGrid x:Name="dgCourses"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          HeadersVisibility="Column"
                          IsReadOnly="True"
                          RowHeaderWidth="0"
                          AlternatingRowBackground="#F3F4F6"
                          FontSize="13">

                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Tên khóa học" Binding="{Binding Title}" Width="240"/>
                        <DataGridTextColumn Header="Ngôn ngữ" Binding="{Binding Language}" Width="120"/>
                        <DataGridTextColumn Header="Cấp độ" Binding="{Binding Level}" Width="100"/>
                        <DataGridTextColumn Header="Danh mục" Binding="{Binding Category.Name}" Width="200"/>

                        <!-- Cột thao tác -->
                        <DataGridTemplateColumn Header="Thao tác" Width="100">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                        <Button Content="✏️"
                                                Width="28" Height="28" Margin="2"
                                                Background="Transparent" BorderThickness="0"
                                                Tag="{Binding CourseId}"
                                                Click="EditCourse_Click"/>
                                        <Button Content="🗑️"
                                                Width="28" Height="28" Margin="2"
                                                Background="Transparent" BorderThickness="0"
                                                Tag="{Binding CourseId}"
                                                Click="DeleteCourse_Click"/>
                                    </StackPanel>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>

                </DataGrid>
            </Border>
        </Grid>
    </Grid>
</Window>
